# CÃ³mo conectar Slack y Github

---
- ğŸ‡ªğŸ‡¸ Idioma: EspaÃ±ol
- ğŸ˜¸ Autores: MarÃ­a SimÃ³
- ğŸ—“ï¸ Creado: 23/02/2023

---


## TL;DR
- Instrucciones para conectar Slack y Github a travÃ©s de una Github Action
- Recibe notificaciones en un canal de Slack cada vez que se abre y se cierra una PR


## Workflow

Copia este archivo en la carpeta de tu proyecto: `.github/workflows/slack-notifier.yml`

```yaml
name: SlackNotifier
concurrency:
	group: PR-${{ github.head_ref }}
	cancel-in-progress: true
on:
	pull_request:
		branches:
			- main
jobs:
	Notify:
		runs-on: ubuntu-latest
		steps:
			- uses: frannpr/pr_open_slack@v0.0.30
			with:
				CHANNEL_ID: ${{ secrets.CHANNEL_ID}}
				BOT_TOKEN_GITHUB: ${{ secrets.BOT_TOKEN_GITHUB}}
				TEAM_NAME: ${{ secrets.TEAM_NAME}}
				GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

```

AsegÃºrate de que en `on: pull_request: branches` especificas el nombre de rama correcto.

## Secrets
En los settings del repositorio de Github debes aÃ±adir lo siguiente:

-   `CHANNEL_ID`Â El ID del canal en cuestiÃ³n sin el #
-   `BOT_TOKEN_GITHUB`Â es el token del bot de slack
-   `TEAM_NAME`Â el nombre del equipo del canal, pero sin el @


## Slack
En tu canal de Slack debes enviar un mensaje para iniciar el bot: `/invite @Github` Â (asegÃºrate que aÃ±ades al bot que estÃ¡ siempre Online, porque hay dos)


ğŸ‰ Listo! Cada vez que cierres y abras una PR recibirÃ¡s un mensaje automÃ¡tico en el canal
